<div class="my-tickets">
  <div class="row">
    <div class="col-md-12">
      <mat-tab-group mat-align-tabs="start" (selectedTabChange)="onChangeTab($event)">
        <mat-tab label="All">
          <div class="mt-2">
            <ng-container *ngIf="!(isLoading$ | async)">
              <div class="row">
                <div class="col-md-9">

                </div>
                <div class="col-md-3">
                  <div class="position-relative">
                    <mat-icon>search</mat-icon>
                    <input type="text" class="form-control custom-input input-bordered search-request" #search
                      placeholder="Search..." (keyup)="filterTickets({title: search.value})">
                  </div>
                </div>
              </div>
              <metutors-support-ticket-card *ngFor="let ticket of tickets$ | async" [ticket]="ticket" [isAdmin]="true"
                                            [linkUrl]="'/admin/support-ticket/ticket-details/' + ticket?.ticketId"
                                            [ticketId]="ticketId" [isChangeStatus]="(isChangeTicketStatus$ | async)!"
                                            (changeStatus)="onChangeTicketStatus($event)">
              </metutors-support-ticket-card>
      
              <div class="text-center py-5 no-data" *ngIf="!(tickets$ | async) || !(tickets$ | async)?.length">
                No Tickets found
              </div>
            </ng-container>
      
            <ng-container *ngIf="isLoading$ | async">
              <div class="card" *ngFor="let _ of [1, 2, 3]">
                <div class="card-body">
                  <metutors-grid-placeholder></metutors-grid-placeholder>
                </div>
              </div>
            </ng-container>
          </div>
        </mat-tab>
        <mat-tab label="Open">
          <div class="mt-2">
            <ng-container *ngIf="!(isLoading$ | async)">
              <metutors-support-ticket-card *ngFor="let ticket of tickets$ | async" [ticket]="ticket" [isAdmin]="true"
                                            [linkUrl]="'/admin/support-ticket/ticket-details/' + ticket?.ticketId"
                                            [ticketId]="ticketId" [isChangeStatus]="(isChangeTicketStatus$ | async)!"
                                            (changeStatus)="onChangeTicketStatus($event)">
              </metutors-support-ticket-card>
      
              <div class="text-center py-5 no-data" *ngIf="!(tickets$ | async) || !(tickets$ | async)?.length">
                No Tickets found
              </div>
            </ng-container>
      
            <ng-container *ngIf="isLoading$ | async">
              <div class="card" *ngFor="let _ of [1, 2, 3]">
                <div class="card-body">
                  <metutors-grid-placeholder></metutors-grid-placeholder>
                </div>
              </div>
            </ng-container>
          </div>
        </mat-tab>
        <mat-tab label="Closed">
          <div class="mt-2">
            <ng-container *ngIf="!(isLoading$ | async)">
              <metutors-support-ticket-card *ngFor="let ticket of tickets$ | async" [ticket]="ticket" [isAdmin]="true"
                                            [linkUrl]="'/admin/support-ticket/ticket-details/' + ticket?.ticketId"
                                            [ticketId]="ticketId" [isChangeStatus]="(isChangeTicketStatus$ | async)!"
                                            (changeStatus)="onChangeTicketStatus($event)">
              </metutors-support-ticket-card>
      
              <div class="text-center py-5 no-data" *ngIf="!(tickets$ | async) || !(tickets$ | async)?.length">
                No Tickets found
              </div>
            </ng-container>
      
            <ng-container *ngIf="isLoading$ | async">
              <div class="card" *ngFor="let _ of [1, 2, 3]">
                <div class="card-body">
                  <metutors-grid-placeholder></metutors-grid-placeholder>
                </div>
              </div>
            </ng-container>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>