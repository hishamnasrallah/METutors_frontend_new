<div class="card feedback-rating">
  <div class="card-body" *ngIf="!isLoading">
    <h1 class="title">
      Feedback & Ratings
      <span>{{ tutor?.averageRating | number:'.1-1' }} ({{ tutor?.totalFeedbacks }} reviews)</span>
    </h1>
    <div class="rating-block">
      <div class="row" [class.mt-3]="!isFirst"
        *ngFor="let feedback of tutor?.feedbackRating | keyvalue; let isFirst = first">
        <div class="col">
          <h2>{{ feedback?.key }} ({{ solveFeedbackNumber(feedback.value) | number:'.1-1' }})</h2>
        </div>
        <div class="col-md-2">
          <rating [ngModel]="feedback?.value" [max]="5" [readonly]="true"></rating>
        </div>
      </div>
    </div>
    <div class="feedback-block" *ngIf="tutor?.feedbacks && tutor?.feedbacks?.length">
      <div class="row review" *ngFor="let feedback of tutor?.feedbacks">
        <div class="col-md-1">
          <img width="60" height="60" draggable="false" alt="" class="rounded-circle" meTutorsDefaultAvatar
            [src]="feedback?.student?.avatar">
        </div>
        <div class="col ms-3">
          <div class="d-flex align-items-center">
            <h2 class="m-0">{{ feedback?.student?.name }}</h2>
            <rating [ngModel]="feedback?.rating" [max]="5" [readonly]="true"></rating>
            <span>{{ feedback?.rating }}</span>
          </div>
          <h4 class="m-0">{{ feedback?.updatedAt | amTimeAgo }}</h4>
          <p class="m-0">{{ feedback?.review }}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="card-body" *ngIf="isLoading">
    <div class="item">
      <div class="ph-row">
        <div class="ph-col-12 big mt-1"></div>
        <div class="ph-col-0 big empty"></div>
        <div class="ph-col-12 big mt-1"></div>
        <div class="ph-col-0 big empty mt-1"></div>
        <div class="ph-col-12 big mt-1"></div>
        <div class="ph-col-0 big empty mt-1"></div>
      </div>
    </div>
  </div>
</div>
